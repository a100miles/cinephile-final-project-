<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Sign up â€¢ Cinephile</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Google+Sans+Flex:wght@100..1000&family=Lora:wght@400..700&display=swap" rel="stylesheet">

    <link href="/output.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.6.2/axios.min.js"></script>
</head>
<body class="min-h-screen flex items-center justify-center font-sans px-6">
    <div class="w-full max-w-md rounded-3xl border border-white/10 bg-white/5 p-8">
        <h1 class="font-serif text-3xl mb-2">Sign up</h1>
        <p class="text-white/60 text-sm mb-8">Create an account to save your Top 5.</p>
        
        <form id="signupForm" class="space-y-4">
            <input id="username" class="w-full rounded-xl bg-black/30 border border-white/10 px-4 py-3 text-sm text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-[var(--accent)]" placeholder="Username" />
            <input id="password" type="password" class="w-full rounded-xl bg-black/30 border border-white/10 px-4 py-3 text-sm text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-[var(--accent)]" placeholder="Password (min 6)" />
            <button class="w-full rounded-xl bg-[var(--accent)] text-black py-3 text-sm font-medium hover:brightness-95">Create account</button>
        </form>
    
        <div class="mt-6 text-sm text-white/60">
            Have an account? <a class="text-white underline" href="login.html">Login</a>
        </div>
        <div class="mt-2 text-sm text-white/60">
            <a class="text-white/80 underline" href="index.html">Back to home</a>
        </div>
    </div>

<script>
  document.getElementById('signupForm').addEventListener('submit', async (e) => {
    e.preventDefault();
    try {
      await axios.post('/api/auth/register', {
        username: document.getElementById('username').value,
        password: document.getElementById('password').value
      });
      alert('Account created. Please login.');
      window.location.href = 'login.html';
    } catch (err) {
      alert(err.response?.data?.error || 'Sign up failed');
    }
  });
</script>
</body>
</html>
