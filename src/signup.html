<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sign Up - Nocturne</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.6.2/axios.min.js"></script>
</head>
<body class="bg-[#050505] text-gray-400 h-screen flex items-center justify-center font-sans">
    <div class="w-full max-w-md p-8 border border-gray-800 rounded-2xl bg-black/50">
        <h2 class="text-3xl text-white font-serif italic mb-8 text-center">Sign Up</h2>
        <form id="signupForm" class="space-y-6">
            <input type="text" id="username" placeholder="Username" class="w-full bg-black border border-gray-700 p-3 rounded text-white focus:border-white outline-none">
            <input type="password" id="password" placeholder="Password" class="w-full bg-black border border-gray-700 p-3 rounded text-white focus:border-white outline-none">
            <button type="submit" class="w-full bg-white text-black py-3 rounded font-bold uppercase tracking-widest hover:bg-gray-200">Create Account</button>
        </form>
        <p class="mt-4 text-center text-xs">Has account? <a href="login.html" class="text-white underline">Login</a></p>
    </div>

    <script>
        document.getElementById('signupForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            try {
                await axios.post('/api/auth/register', {
                    username: document.getElementById('username').value,
                    password: document.getElementById('password').value
                });
                alert('Account created. Please login.');
                window.location.href = 'login.html';
            } catch (err) { alert(err.response?.data?.error || 'Error'); }
        });
    </script>
</body>
</html>